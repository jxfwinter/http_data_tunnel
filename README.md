# http_data_rtunnel
http反向隧道数据传输中间件，主要用于http上传下载数据，比如图片，文件上传下载，类似ssh反向隧道，但ssh反向隧道，一个隧道就要占用一个服务器端口，在同时需要大量隧道的情况下不合适，此中间件服务器占用1个端口(http)。  

原理：  
1 当客户端启动后，初始化请求连接消息，消息中包含DATA-SID头来标识隧道，建立与服务器的长连接，隧道建立  
2 服务器接收到http请求后，如果请求头中包含DATA-SID字段，查找匹配的隧道，并向此隧道转发http请求  
3 客户端收到请求后转发到设置的http端口，等待响应  
4 客户端收到响应后，回转服务器  
5 服务器返回http响应数据  
  
限制：  
1 只适用于http1.x协议  
2 通过在http头中加一个DATA-SID字段来区分不同隧道  
  
包含：  
1 http反向隧道服务端  
2 http反向隧道客户端类  
3 http反向隧道压力测试客户端  
  
注意：  
1 基于asio无栈协程   
2 隧道是临时的，5秒如果没有http请求,就会关闭  
3 一个隧道建立，用于一次文件传输，传输完成后，自动关闭  
  
构建命令  
gn gen out/release --args="is_debug=false"  
ninja -C out/release  
